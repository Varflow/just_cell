"use strict";(self["webpackChunkjust_sell"]=self["webpackChunkjust_sell"]||[]).push([[8089],{9566:function(e,t,l){l.d(t,{Z:function(){return v}});var a=l(3396),o=l(7139),i=l(9242),n=l.p+"img/close-icon.622be15f.svg";const s={class:"modal-header"},r={class:"modal-title"},d=(0,a._)("img",{src:n,alt:"Close"},null,-1),c=[d],u={class:"modal-footer"};function m(e,t,l,n,d,m){return(0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a._)("div",{class:(0,o.C_)(["modal",{"modal--opened":e.opened,[`${e.classNames}`]:Boolean(e.classNames)}]),tabindex:"-1",role:"dialog",onClick:t[2]||(t[2]=(...t)=>e.close&&e.close(...t)),ref:"modal"},[(0,a._)("div",{class:"modal-content",style:(0,o.j5)({minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight}),onClick:t[1]||(t[1]=(0,i.iM)((()=>{}),["stop"]))},[(0,a._)("div",s,[(0,a._)("h4",r,[(0,a.WI)(e.$slots,"title")]),e.showCloseButton?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"modal-close-button",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},c)):(0,a.kq)("",!0)]),(0,a.WI)(e.$slots,"description"),(0,a.WI)(e.$slots,"content",{close:e.close}),(0,a._)("div",u,[(0,a.WI)(e.$slots,"footer",{close:e.close})])],4)],2)])}var p=(0,a.aZ)({modalController:null,props:{classNames:String,showCloseButton:{type:Boolean,default:!1},minWidth:String,maxWidth:String,minHeight:String,maxHeight:String},data(){return{opened:!1}},mounted(){document.addEventListener("keydown",this.onKeydown)},beforeUnmount(){document.removeEventListener("keydown",this.onKeydown)},methods:{open(){let e,t;const l=new Promise(((l,a)=>{e=l,t=a}));return this.$options.modalController={resolve:e,reject:t},this.opened=!0,l},close(){this.$options.modalController.resolve(!0),this.opened=!1},onKeydown(e){"Escape"===e.key&&this.close()}}}),f=l(89);const h=(0,f.Z)(p,[["render",m]]);var v=h},2729:function(e,t,l){l.d(t,{Z:function(){return f}});var a=l(3396),o=l(7139),i=l(9167);const n=["checked","name","disabled"],s={key:0,for:"#checkbox-field",class:"checkbox-field__label"},r={id:"checkbox-field",class:"checkbox-field__box"},d={key:0,src:i,alt:"Checked"},c={key:0,class:"form-field__error"},u=(0,a.aZ)({emits:["change","update:modelValue"],data(){return{checked:this.$props.modelValue}},computed:{hasError(){return Boolean(this.$props.error)}},watch:{modelValue:{handler(e){this.checked="string"===typeof e?JSON.parse(e):e},immediate:!0}},methods:{check(){this.checked=!this.checked,this.$emit("change",this.checked),this.$emit("update:modelValue",this.checked)}}});var m=(0,a.aZ)({...u,__name:"CheckboxField",props:{name:{},label:{},defaultChecked:{type:Boolean},direction:{default:"right"},variant:{default:"primary"},size:{default:"md"},modelValue:{type:Boolean},disabled:{},error:{},justify:{default:"space-between"}},setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("input",{type:"checkbox",class:"checkbox-field__input",checked:e.modelValue||e.checked,name:e.name,disabled:e.disabled},null,8,n),(0,a._)("div",{class:(0,o.C_)(["checkbox-field",{"checkbox-field--checked":e.checked,"checkbox-field--disabled":e.disabled,[`checkbox-field--${e.direction}`]:!0,[`checkbox-field--${e.variant}`]:!0,[`checkbox-field--${e.size}`]:!0}]),style:(0,o.j5)({justifyContent:"space-between"===e.justify?"space-between":"flex-start"}),onClick:t[0]||(t[0]=(...t)=>e.check&&e.check(...t))},[Boolean(e.label)?((0,a.wg)(),(0,a.iD)("label",s,(0,o.zw)(e.$t(e.label)),1)):(0,a.kq)("",!0),(0,a._)("div",r,[e.checked?((0,a.wg)(),(0,a.iD)("img",d)):(0,a.kq)("",!0)])],6),e.hasError?((0,a.wg)(),(0,a.iD)("div",c,(0,o.zw)(e.error),1)):(0,a.kq)("",!0)],64))}});const p=m;var f=p},2572:function(e,t,l){l.d(t,{Z:function(){return w}});var a=l(3396),o=l(7139);const i={class:"file-field"},n=["accept","name"],s={class:"file-field__label"},r={key:0,class:"file-field__value"},d={class:"file-field__preview"},c=["src"];function u(e,t,l,u,m,p){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("input",{ref:"fileInput",type:"file",hidden:"",accept:e.accept,name:e.name,onChange:t[0]||(t[0]=(...t)=>e.selectFile&&e.selectFile(...t))},null,40,n),(0,a._)("div",s,[(0,a.Uk)((0,o.zw)(e.label)+" ",1),e.file?((0,a.wg)(),(0,a.iD)("div",r,(0,o.zw)(e.fileName),1)):(0,a.kq)("",!0)]),(0,a._)("div",d,[e.canShowPreview?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.preview,class:"file-field__preview-img"},null,8,c)):(0,a.kq)("",!0),(0,a._)("button",{class:"file-field__button",type:"button",onClick:t[1]||(t[1]=(...t)=>e.openFileSelector&&e.openFileSelector(...t))},(0,o.zw)(e.$t("Завантажити файл")),1)])])}const m=["png","jpeg","jgp"],p=e=>{const t=e.split(".");return t[t.length-1]},f=e=>{const t=p(e.name);return m.includes(t)};var h=(0,a.aZ)({emits:["update:modelValue"],props:["modelValue","name","label","accept"],data(){return{file:this.modelValue||null}},computed:{canShowPreview(){return null!==this.file&&f(this.file)},preview(){return this.file?URL.createObjectURL(this.file):""},fileName(){if(!this.file)return"";const e=this.file?.name;return e?.length<=25?e:`${e?.slice(0,15)}...`}},watch:{file(e){this.$emit("update:modelValue",e)}},methods:{openFileSelector(){const e=this.$refs.fileInput;e.click()},selectFile(e){const t=e.target;this.file=t.files[0]}}}),v=l(89);const _=(0,v.Z)(h,[["render",u]]);var w=_},2619:function(e,t,l){l.d(t,{Z:function(){return d}});var a=l(3396),o=l(7139);const i=["type","placeholder","name","required","value","disabled"],n=(0,a.aZ)({emits:["update:modelValue","blur"],methods:{input(e){const t=e.target?.value;this.$emit("update:modelValue",t)}}});var s=(0,a.aZ)({...n,__name:"InputField",props:{name:{},type:{},placeholder:{},required:{type:Boolean},size:{default:"lg"},variant:{default:"default"},modelValue:{},disabled:{}},setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("input",{type:e.type,placeholder:e.placeholder?e.$t(e.placeholder):"",name:e.name,required:e.required,class:(0,o.C_)([`form-field__input--${e.size} form-field__input--${e.variant}`,"form-field__input"]),value:e.modelValue,disabled:e.disabled,onInput:t[0]||(t[0]=t=>e.input(t)),onBlur:t[1]||(t[1]=t=>e.$emit("blur"))},null,42,i))}});const r=s;var d=r},2096:function(e,t,l){l.d(t,{Z:function(){return c}});var a=l(3396);const o=["value","placeholder","name","required"];function i(e,t,l,i,n,s){const r=(0,a.Q2)("imask");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{value:e.modelValue,placeholder:e.placeholder?e.$t(e.placeholder):"+38 (0_ _) _ _ _-_ _-_ _",name:e.name,required:e.required,type:"tel",class:"form-field__input",onAccept:t[0]||(t[0]=(...t)=>e.onAccept&&e.onAccept(...t)),onBlur:t[1]||(t[1]=t=>e.$emit("blur"))},null,40,o)),[[r,e.mask]])}var n=l(8877),s=(0,a.aZ)({emits:["update:modelValue","blur"],props:{name:String,placeholder:{type:String,required:!1},required:{type:Boolean,required:!1},modelValue:{type:String,required:!1}},directives:{imask:n.An},data(){return{mask:{mask:"+{38}(000)000-00-00",lazy:!1}}},methods:{onAccept(e){const t=e.detail;this.$emit("update:modelValue",t.unmaskedValue)}}}),r=l(89);const d=(0,r.Z)(s,[["render",i]]);var c=d},6931:function(e,t,l){l.d(t,{Z:function(){return f}});var a=l(3396),o=l(7139),i=l(9242);function n(e,t,l,n,s,r){return(0,a.wg)(),(0,a.iD)("form",{class:(0,o.C_)(e.classNames),onSubmit:[t[0]||(t[0]=(0,i.iM)((()=>{}),["prevent"])),t[1]||(t[1]=(0,i.iM)((()=>{}),["stop"])),t[2]||(t[2]=(...t)=>e.onSubmit&&e.onSubmit(...t))]},[(0,a.WI)(e.$slots,"fields",{values:e.values,errors:e.errors,hasErrors:e.hasErrors,validateAt:e.validateAt,ref:"slot"})],34)}var s=l(8086),r=l.n(s);const d=async(e,t)=>{let l={};try{await t.validate(e,{abortEarly:!1}),l={}}catch(a){a.inner.forEach((e=>{const t=e.path,a=e.message;r()(l,t,a)}))}return l},c=async(e,t,l)=>{let a="";try{await l.validateAt(e,t)}catch(o){a=o.message}return a};var u=(0,a.aZ)({emits:["submit"],props:{classNames:{type:String,required:!1},initialValues:{type:Object,required:!0},schema:{required:!1}},data(){return{values:this.initialValues,errors:{}}},computed:{hasErrors(){return Boolean(Object.keys(this.errors).length>0)}},watch:{initialValues(e){this.values=e},errors(e){const t=Object.keys(e)[0],l=document.querySelector(`[name="${t}"]`);if(!l)return;const a=20,o=l.getBoundingClientRect().top-a;window.scrollTo({top:o}),l.focus()}},methods:{async onSubmit(){const e=await this.validate();e&&this.$emit("submit",this.values)},async validate(){return this.schema?(this.errors=await d(this.values,this.schema),Boolean(Object.keys(this.errors).length<=0)):(console.error("Validation schema doen't provided"),!0)},async validateAt(e){if(!this.schema)return console.error("Validation schema doen't provided"),!0;const t=await c(e,this.values,this.schema);r()(this.errors,e,t)}}}),m=l(89);const p=(0,m.Z)(u,[["render",n]]);var f=p},2230:function(e,t,l){l.r(t),l.d(t,{default:function(){return ue}});var a=l(3396),o=l(7139);const i={class:"app-layout__caption"};function n(e,t,l,n,s,r){const d=(0,a.up)("create-user"),c=(0,a.up)("v-button"),u=(0,a.up)("app-layout");return(0,a.wg)(),(0,a.j4)(u,null,{appTitle:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("Додати нового користувача")),1)])),appContent:(0,a.w5)((()=>[(0,a.Wm)(d)])),appActions:(0,a.w5)((()=>[(0,a._)("div",i,(0,o.zw)(e.$t("* - Поля обов’язкові для заповнення")),1),(0,a.Wm)(c,null,{text:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("Додати користувача")),1)])),_:1})])),_:1})}var s=l(8231),r=l(4610);const d={class:"app-layout-form"},c={class:"app-layout-form"};function u(e,t,l,o,i,n){const s=(0,a.up)("tel-field"),r=(0,a.up)("form-field"),u=(0,a.up)("input-field"),m=(0,a.up)("affiliation-select"),p=(0,a.up)("user-permissions"),f=(0,a.up)("file-field"),h=(0,a.up)("v-form");return(0,a.wg)(),(0,a.j4)(h,{initialValues:e.initialValues,"class-names":"create-user__form app-layout-form__row"},{fields:(0,a.w5)((({values:e})=>[(0,a._)("div",d,[(0,a.Wm)(r,{shadow:"",label:"Номер телефона*:"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{name:"phone",modelValue:e.phone,"onUpdate:modelValue":t=>e.phone=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(r,{shadow:"",label:"Ім’я*:"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"fullName",placeholder:"Введіть ім’я користувача",modelValue:e.fullName,"onUpdate:modelValue":t=>e.fullName=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(r,{shadow:"",label:"Посада*:"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"job",placeholder:"Введіть посаду користувача",modelValue:e.jon,"onUpdate:modelValue":t=>e.jon=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(m),(0,a.Wm)(r,{shadow:"",label:"ЄДРПОУ:"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"job",placeholder:"Введіть код ЄДРПОУ",modelValue:e.jon,"onUpdate:modelValue":t=>e.jon=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(p)]),(0,a._)("div",c,[(0,a.Wm)(r,{shadow:"",label:"Додати фото нового користувача*:"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"file",label:"Фото користувача:",accept:"images/*",modelValue:e.file,"onUpdate:modelValue":t=>e.file=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])])),_:1},8,["initialValues"])}var m=l(4560),p=l(2619),f=l(2096),h=l(2572);const v={class:"user-permissions"},_={class:"user-permissions__field"},w={class:"user-permissions__field-label"},b={class:"user-permissions__title"},g={class:"user-permissions__title"},k={class:"user-permissions__template"};function y(e,t,l,i,n,s){const r=(0,a.up)("form-field"),d=(0,a.up)("permissions-list"),c=(0,a.up)("v-accordion"),u=(0,a.up)("checkbox-field"),m=(0,a.up)("save-template"),p=(0,a.up)("v-button"),f=(0,a.up)("v-modal");return(0,a.wg)(),(0,a.iD)("div",v,[(0,a.Wm)(r,{label:"Права доступу*:"},{default:(0,a.w5)((()=>[(0,a._)("div",_,[(0,a._)("div",w,(0,o.zw)(e.$t("Права доступу користувача*:")),1),(0,a._)("button",{class:"user-permissions__field-button",onClick:t[0]||(t[0]=(...t)=>e.open&&e.open(...t)),type:"button"},(0,o.zw)(e.$t("Обрати")),1)])])),_:1}),(0,a.Wm)(f,{ref:"userPermissions",class:"user-permissions__modal",showCloseButton:""},{title:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("Права користувача")),1)])),content:(0,a.w5)((()=>[(0,a._)("div",b,(0,o.zw)(e.$t("Тип системи")),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.entries(e.permissions),(([e,t])=>((0,a.wg)(),(0,a.j4)(c,{key:e},{title:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e),1)])),content:(0,a.w5)((()=>[(0,a.Wm)(d,{permissions:t},null,8,["permissions"])])),_:2},1024)))),128)),(0,a._)("div",g,(0,o.zw)(e.$t("Шаблони")),1),(0,a._)("div",k,[(0,a.Wm)(u,{name:"payment",direction:"right",label:"Шаблон 1"})]),(0,a.Wm)(m,{permissions:e.selected},null,8,["permissions"])])),footer:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"button"},{text:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("Зберегти")),1)])),_:1})])),_:1},512)])}var V=l(2729),Z=l(9566),$=l(9242),W=l(9041);const C=(0,a._)("img",{src:W,alt:"Open",class:"accordion-icon"},null,-1),x={class:"accordion-content"};function S(e,t,l,i,n,s){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["accordion",{"accordion--opened":e.opened}])},[(0,a._)("div",{class:"accordion-title",onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[(0,a.WI)(e.$slots,"title"),C]),(0,a.Wm)($.uT,{name:"accordion",onEnter:e.start,onAfterEnter:e.end,onBeforeLeave:e.start,onAfterLeave:e.end},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",x,[(0,a.WI)(e.$slots,"content")],512),[[$.F8,e.opened]])])),_:3},8,["onEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],2)}var j=(0,a.aZ)({data(){return{opened:!1}},methods:{toggle(){this.opened=!this.opened},start(e){e.style.height=`${e.scrollHeight}px`},end(e){e.style.height=""}}}),F=l(89);const U=(0,F.Z)(j,[["render",S]]);var z=U;const A={class:"user-permissions__list"},q={components:{CheckboxField:V.Z}};var B=(0,a.aZ)({...q,__name:"PermissionsList",props:{permissions:{}},setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("div",A,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.permissions,(e=>((0,a.wg)(),(0,a.j4)(V.Z,{key:e.title,name:e.value,label:e.title,direction:"right"},null,8,["name","label"])))),128))]))}});const D=B;var E=D;const I={key:0,class:"user-permissions__save"},N=(0,a.aZ)({components:{CheckboxField:V.Z}});var H=(0,a.aZ)({...N,__name:"SaveTemplate",props:{permissions:{}},setup(e){return(e,t)=>e.permissions.length>0?((0,a.wg)(),(0,a.iD)("div",I,[(0,a.Wm)(V.Z,{name:"save",direction:"right",label:"Зберегти як шаблон",variant:"secondary"})])):(0,a.kq)("",!0)}});const L=H;var O=L,P=(0,a.aZ)({components:{VModal:Z.Z,VAccordion:z,FormField:m.Z,CheckboxField:V.Z,VButton:r.Z,PermissionsList:E,SaveTemplate:O},data(){return{permissions:{"Термінали":[{title:"Приймати платежі",value:"payment"},{title:"Приймати платежі",value:"payment"}],"Каталог товаров":[{title:"Приймати платежі",value:"payment"},{title:"Приймати платежі",value:"payment"}]},selected:["Приймати платежі"]}},methods:{open(){const e=this.$refs.userPermissions;e.open()}}});const M=(0,F.Z)(P,[["render",y]]);var T=M,K=l(6931);function R(e,t,l,o,i,n){const s=(0,a.up)("affiliation-form"),r=(0,a.up)("select-field"),d=(0,a.up)("form-field");return(0,a.wg)(),(0,a.j4)(d,{label:"Приналежність*:",error:e.error},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{options:e.affilications,name:"affilications","input-placeholder":"Оберіть компанію","search-placeholder":"Введіть компанію","has-search":!1,"model-value":e.modelValue,"onUpdate:modelValue":e.select},{extra:(0,a.w5)((()=>[(0,a.Wm)(s,{onSuccess:e.onAdd},null,8,["onSuccess"])])),_:1},8,["options","model-value","onUpdate:modelValue"])])),_:1},8,["error"])}l(7658);var Y=l(2946),J=l.p+"img/plus-icon.302e7c79.svg";const Q=(0,a._)("img",{src:J,alt:""},null,-1),G={class:"affiliation-form__actions"};function X(e,t,l,i,n,s){const r=(0,a.up)("v-button"),d=(0,a.up)("input-field"),c=(0,a.up)("form-field"),u=(0,a.up)("v-form"),m=(0,a.up)("v-modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,{type:"button",onClick:e.openModal,variant:"ghost","has-max-width":!1,size:"sm"},{beforeIcon:(0,a.w5)((()=>[Q])),text:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("Додати компанію")),1)])),_:1},8,["onClick"]),(0,a.Wm)(m,{ref:"createAffiliation",class:"create-affilication__form","min-width":"30vw",showCloseButton:""},{title:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("Додати компанію")),1)])),content:(0,a.w5)((()=>[(0,a.Wm)(u,{"initial-values":e.initialValues,"class-names":"affiliation-form",onSubmit:e.add},{fields:(0,a.w5)((({values:t})=>[(0,a.Wm)(c,{label:"Назва компанії"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"name",modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,placeholder:"Введіть назву компанії"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a._)("div",G,[(0,a.Wm)(r,{type:"submit"},{text:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("Додати")),1)])),_:1})])])),_:1},8,["initial-values","onSubmit"])])),_:1},512)],64)}var ee=(0,a.aZ)({emits:["success"],components:{VForm:K.Z,VModal:Z.Z,VButton:r.Z,FormField:m.Z,InputField:p.Z},data(){return{initialValues:{name:""}}},methods:{openModal(){const e=this.$refs.createAffiliation;e.open()},add(e){const t=this.$refs.createAffiliation;t.close(),this.initialValues.name="",this.$emit("success",e.name)}}});const te=(0,F.Z)(ee,[["render",X]]);var le=te,ae=(0,a.aZ)({props:{modelValue:String,error:String},emits:["update:modelValue"],components:{FormField:m.Z,SelectField:Y.Z,AffiliationForm:le},data(){return{affilications:[{value:"1",label:"Company 1"}]}},methods:{select(e){this.$emit("update:modelValue",e)},onAdd(e){this.affilications.push({value:e,label:e})}}});const oe=(0,F.Z)(ae,[["render",R]]);var ie=oe,ne=(0,a.aZ)({components:{VForm:K.Z,FormField:m.Z,InputField:p.Z,TelField:f.Z,FileField:h.Z,UserPermissions:T,AffiliationSelect:ie},data(){return{initialValues:{phone:"",fullName:"",job:"",file:"",affiliation:""},options:[{label:"Option1",value:"Value1"},{label:"Option2",value:"Value2"},{label:"Option3",value:"Value3"}]}}});const se=(0,F.Z)(ne,[["render",u]]);var re=se,de={components:{AppLayout:s.Z,CreateUser:re,VButton:r.Z}};const ce=(0,F.Z)(de,[["render",n]]);var ue=ce},9167:function(e,t,l){e.exports=l.p+"img/check-icon.972bc3c4.svg"}}]);
//# sourceMappingURL=8089.4aac7b8a.js.map
"use strict";(self["webpackChunkjust_sell"]=self["webpackChunkjust_sell"]||[]).push([[6946],{4795:function(e,t,a){a.d(t,{Z:function(){return k}});var r=a(3396);const o=["type","placeholder","name","required","value"],s={class:"form-field__extra-container"};function n(e,t,a,n,i,l){const u=(0,r.up)("password-visibility-button"),d=(0,r.up)("password-generate-button");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("input",{type:e.type,placeholder:e.placeholder?e.$t(e.placeholder):"",name:e.name,required:e.required,value:e.password,class:"form-field__input",onInput:t[0]||(t[0]=t=>e.input(t)),onBlur:t[1]||(t[1]=t=>e.$emit("blur"))},null,40,o),(0,r._)("div",s,[(0,r.Wm)(u,{onChange:e.changeType},null,8,["onChange"]),e.hasGenerateButton?((0,r.wg)(),(0,r.j4)(d,{key:0,onGeneratedPassword:e.onGeneratePassword},null,8,["onGeneratedPassword"])):(0,r.kq)("",!0)])],64)}var i=a.p+"img/eye_hidden.08669155.svg",l=a.p+"img/eye_visible.cfc84e83.svg";const u={key:0,src:i,alt:"Show\n    password"},d={key:1,src:l,alt:"Show\n    password"};function c(e,t,a,o,s,n){return(0,r.wg)(),(0,r.iD)("button",{type:"button",class:"form-field__extra password-visibility-button",tabindex:"-1",onClick:t[0]||(t[0]=(...t)=>e.changeVisibility&&e.changeVisibility(...t))},[e.visibility?((0,r.wg)(),(0,r.iD)("img",d)):((0,r.wg)(),(0,r.iD)("img",u))])}var m=(0,r.aZ)({emits:["change"],data(){return{visibility:!1}},watch:{visibility(e){const t=e?"text":"password";this.$emit("change",t)}},methods:{changeVisibility(){this.visibility=!this.visibility}}}),p=a(89);const h=(0,p.Z)(m,[["render",c]]);var w=h,_=a.p+"img/key_icon.9e7583e7.svg";const v=(0,r._)("img",{src:_,alt:"Generate"},null,-1),y=[v];function f(e,t,a,o,s,n){return(0,r.wg)(),(0,r.iD)("button",{type:"button",class:"form-field__extra password-visibility-button",tabindex:"-1",onClick:t[0]||(t[0]=(...t)=>e.generatePassword&&e.generatePassword(...t))},y)}var g=(0,r.aZ)({emits:["generatedPassword"],data(){return{generatedPassword:""}},watch:{generatedPassword(e){this.$emit("generatedPassword",e)}},methods:{generatePassword(){const e="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=15;let a="";const r=window.crypto,o=new Uint32Array(1);for(let s=0;s<t;s++){const t=r.getRandomValues(o)[0];a+=e[t%e.length]}this.generatedPassword=a}}});const b=(0,p.Z)(g,[["render",f]]);var P=b,V=(0,r.aZ)({props:{name:{type:String,required:!0},placeholder:{type:String,required:!1},required:{type:Boolean,required:!1},hasGenerateButton:{type:Boolean,default:!1},modelValue:String},emits:["update:modelValue","blur"],components:{PasswordVisibilityButton:w,PasswordGenerateButton:P},data(){return{type:"password",password:this.modelValue||""}},watch:{modelValue(e){this.password=e}},methods:{changeType(e){this.type=e},input(e){const t=e.target?.value;this.$emit("update:modelValue",t)},onGeneratePassword(e){this.$emit("update:modelValue",e)}}});const Z=(0,p.Z)(V,[["render",n]]);var k=Z},2096:function(e,t,a){a.d(t,{Z:function(){return d}});var r=a(3396);const o=["value","placeholder","name","required"];function s(e,t,a,s,n,i){const l=(0,r.Q2)("imask");return(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{value:e.modelValue,placeholder:e.placeholder?e.$t(e.placeholder):"+38 (0_ _) _ _ _-_ _-_ _",name:e.name,required:e.required,type:"tel",class:"form-field__input",onAccept:t[0]||(t[0]=(...t)=>e.onAccept&&e.onAccept(...t)),onBlur:t[1]||(t[1]=t=>e.$emit("blur"))},null,40,o)),[[l,e.mask]])}var n=a(8877),i=(0,r.aZ)({emits:["update:modelValue","blur"],props:{name:String,placeholder:{type:String,required:!1},required:{type:Boolean,required:!1},modelValue:{type:String,required:!1}},directives:{imask:n.An},data(){return{mask:{mask:"+{38}(000)000-00-00",lazy:!1}}},methods:{onAccept(e){const t=e.detail;this.$emit("update:modelValue",t.unmaskedValue)}}}),l=a(89);const u=(0,l.Z)(i,[["render",s]]);var d=u},6931:function(e,t,a){a.d(t,{Z:function(){return h}});var r=a(3396),o=a(7139),s=a(9242);function n(e,t,a,n,i,l){return(0,r.wg)(),(0,r.iD)("form",{class:(0,o.C_)(e.classNames),onSubmit:[t[0]||(t[0]=(0,s.iM)((()=>{}),["prevent"])),t[1]||(t[1]=(0,s.iM)((()=>{}),["stop"])),t[2]||(t[2]=(...t)=>e.onSubmit&&e.onSubmit(...t))]},[(0,r.WI)(e.$slots,"fields",{values:e.values,errors:e.errors,hasErrors:e.hasErrors,validateAt:e.validateAt,ref:"slot"})],34)}var i=a(8086),l=a.n(i);const u=async(e,t)=>{let a={};try{await t.validate(e,{abortEarly:!1}),a={}}catch(r){r.inner.forEach((e=>{const t=e.path,r=e.message;l()(a,t,r)}))}return a},d=async(e,t,a)=>{let r="";try{await a.validateAt(e,t)}catch(o){r=o.message}return r};var c=(0,r.aZ)({emits:["submit"],props:{classNames:{type:String,required:!1},initialValues:{type:Object,required:!0},schema:{required:!1}},data(){return{values:this.initialValues,errors:{}}},computed:{hasErrors(){return Boolean(Object.keys(this.errors).length>0)}},watch:{initialValues(e){this.values=e},errors(e){const t=Object.keys(e)[0],a=document.querySelector(`[name="${t}"]`);if(!a)return;const r=20,o=a.getBoundingClientRect().top-r;window.scrollTo({top:o}),a.focus()}},methods:{async onSubmit(){const e=await this.validate();e&&this.$emit("submit",this.values)},async validate(){return this.schema?(this.errors=await u(this.values,this.schema),Boolean(Object.keys(this.errors).length<=0)):(console.error("Validation schema doen't provided"),!0)},async validateAt(e){if(!this.schema)return console.error("Validation schema doen't provided"),!0;const t=await d(e,this.values,this.schema);l()(this.errors,e,t)}}}),m=a(89);const p=(0,m.Z)(c,[["render",n]]);var h=p},513:function(e,t,a){a.d(t,{Z:function(){return b}});var r=a(3396),o=a(7139),s=a.p+"img/auth-img.79ee4967.png";const n={class:"auth-layout"},i=(0,r._)("div",{class:"auth-layout__image"},[(0,r._)("img",{src:s,alt:"Sign In"})],-1),l={class:"auth-layout__content"},u={class:"auth-layout__header"},d={class:"auth-layout__logo"},c={class:"auth-layout__header-link"},m={class:"auth-layout__footer"},p={class:"about"},h={href:"#"};function w(e,t,a,s,w,_){const v=(0,r.up)("app-logo"),y=(0,r.up)("app-locales");return(0,r.wg)(),(0,r.iD)("div",n,[i,(0,r._)("div",l,[(0,r._)("div",u,[(0,r._)("div",d,[(0,r.Wm)(v)]),(0,r._)("div",c,[(0,r.WI)(e.$slots,"auth-link")])]),(0,r.WI)(e.$slots,"auth-content"),(0,r._)("div",m,[(0,r.Wm)(y,{direction:"top"}),(0,r._)("div",p,[(0,r._)("a",h,(0,o.zw)(e.$t("Про компанію")),1)])])])])}var _=a(6298),v=a(895),y={components:{AppLocales:_.Z,AppLogo:v.Z}},f=a(89);const g=(0,f.Z)(y,[["render",w]]);var b=g},1678:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var r=a(3396),o=a(7139);function s(e,t,a,s,n,i){const l=(0,r.up)("router-link"),u=(0,r.up)("confirm-form"),d=(0,r.up)("auth-layout");return(0,r.wg)(),(0,r.j4)(d,null,{"auth-link":(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e.$t("Маєте аккаунт?"))+" ",1),(0,r.Wm)(l,{to:"signin"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e.$t("Увійти")),1)])),_:1})])),"auth-content":(0,r.w5)((()=>[(0,r.Wm)(u)])),_:1})}var n=a(513);const i={class:"confirm-password-content"},l={class:"auth-layout__title reset-password-content__title"},u={class:"auth-layout__actions"};function d(e,t,a,s,n,d){const c=(0,r.up)("tel-field"),m=(0,r.up)("form-field"),p=(0,r.up)("password-field"),h=(0,r.up)("v-button"),w=(0,r.up)("v-form");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("h3",l,(0,o.zw)(e.$t("Новий пароль")),1),(0,r.Wm)(w,{"class-names":"auth-layout__form",schema:e.confirmationSchema,"initial-values":e.initialValues,onSubmit:e.submitPassword},{fields:(0,r.w5)((({errors:t,values:a,validateAt:s})=>[(0,r.Wm)(m,{label:"Логін*:",error:t.phone},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:a.phone,"onUpdate:modelValue":e=>a.phone=e,name:"phone",placeholder:"",onBlur:e=>s("phone")},null,8,["modelValue","onUpdate:modelValue","onBlur"])])),_:2},1032,["error"]),(0,r.Wm)(m,{label:"Поточний пароль*:",error:t.oldPassword},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{modelValue:a.oldPassword,"onUpdate:modelValue":e=>a.oldPassword=e,name:"oldPassword",placeholder:"Введіть поточний пароль",onBlur:e=>s("oldPassword")},null,8,["modelValue","onUpdate:modelValue","onBlur"])])),_:2},1032,["error"]),(0,r.Wm)(m,{label:"Введіть пароль*:",error:t.newPassword},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{modelValue:a.newPassword,"onUpdate:modelValue":e=>a.newPassword=e,name:"password",placeholder:"Введіть новий пароль",onBlur:e=>s("newPassword")},null,8,["modelValue","onUpdate:modelValue","onBlur"])])),_:2},1032,["error"]),(0,r.Wm)(m,{label:"Введіть пароль ще раз*:",error:t.confirmationPassword},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{modelValue:a.confirmationPassword,"onUpdate:modelValue":e=>a.confirmationPassword=e,name:"confirmation_password",placeholder:"Підтвердіть новий пароль",onBlur:e=>s("confirmationPassword")},null,8,["modelValue","onUpdate:modelValue","onBlur"])])),_:2},1032,["error"]),(0,r._)("div",u,[(0,r.Wm)(h,{type:"submit"},{text:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(e.$t("Надіслати")),1)])),_:1})])])),_:1},8,["schema","initial-values","onSubmit"])])}var c=a(4560),m=a(2096),p=a(4610),h=a(4795),w=a(6931),_=a(7736),v=a(7629);const y=(0,v.Ry)({phone:(0,v.Z_)().required(_.r.REQUIRED_FIELD),oldPassword:(0,v.Z_)().required(_.r.REQUIRED_FIELD),newPassword:(0,v.Z_)().required(_.r.REQUIRED_FIELD),confirmationPassword:(0,v.Z_)().oneOf([(0,v.iH)("newPassword")],_.r.PASSWORD_NOT_MATCH)});var f=a(8407),g=a(4677),b=(0,r.aZ)({components:{FormField:c.Z,TelField:m.Z,PasswordField:h.Z,VButton:p.Z,VForm:w.Z},setup(){const e=(0,g.pm)();return{toast:e,confirmationSchema:y}},data(){return{initialValues:{phone:"",oldPassword:"",newPassword:"",confirmationPassword:""}}},mounted(){this.initialValues.phone=this.$route.query.tel?.toString()||""},methods:{async submitPassword(e){this.$store.dispatch(f.u.RESET_PASSWORD,{resetPayload:{phone:e.phone,old_pass:e.oldPassword,pass:e.newPassword},toast:this.toast})}}}),P=a(89);const V=(0,P.Z)(b,[["render",d]]);var Z=V,k={components:{AuthLayout:n.Z,ConfirmForm:Z}};const S=(0,P.Z)(k,[["render",s]]);var q=S}}]);
//# sourceMappingURL=6946.b6447791.js.map
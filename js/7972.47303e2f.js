"use strict";(self["webpackChunkjust_sell"]=self["webpackChunkjust_sell"]||[]).push([[7972],{9566:function(e,t,r){r.d(t,{Z:function(){return _}});var a=r(3396),s=r(7139),i=r(9242),o=r.p+"img/close-icon.622be15f.svg";const l={class:"modal-header"},d={class:"modal-title"},n=(0,a._)("img",{src:o,alt:"Close"},null,-1),c=[n],u={class:"modal-footer"};function m(e,t,r,o,n,m){return(0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a._)("div",{class:(0,s.C_)(["modal",{"modal--opened":e.opened,[`${e.classNames}`]:Boolean(e.classNames)}]),tabindex:"-1",role:"dialog",onClick:t[2]||(t[2]=(...t)=>e.close&&e.close(...t)),ref:"modal"},[(0,a._)("div",{class:"modal-content",style:(0,s.j5)({minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight}),onClick:t[1]||(t[1]=(0,i.iM)((()=>{}),["stop"]))},[(0,a._)("div",l,[(0,a._)("h4",d,[(0,a.WI)(e.$slots,"title")]),e.showCloseButton?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"modal-close-button",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},c)):(0,a.kq)("",!0)]),(0,a.WI)(e.$slots,"description"),(0,a.WI)(e.$slots,"content",{close:e.close}),(0,a._)("div",u,[(0,a.WI)(e.$slots,"footer",{close:e.close})])],4)],2)])}var h=(0,a.aZ)({modalController:null,props:{classNames:String,showCloseButton:{type:Boolean,default:!1},minWidth:String,maxWidth:String,minHeight:String,maxHeight:String},data(){return{opened:!1}},mounted(){document.addEventListener("keydown",this.onKeydown)},beforeUnmount(){document.removeEventListener("keydown",this.onKeydown)},methods:{open(){let e,t;const r=new Promise(((r,a)=>{e=r,t=a}));return this.$options.modalController={resolve:e,reject:t},this.opened=!0,r},close(){this.$options.modalController.resolve(!0),this.opened=!1},onKeydown(e){"Escape"===e.key&&this.close()}}}),v=r(89);const p=(0,v.Z)(h,[["render",m]]);var _=p},2729:function(e,t,r){r.d(t,{Z:function(){return v}});var a=r(3396),s=r(7139),i=r(9167);const o=["checked","name","disabled"],l={key:0,for:"#checkbox-field",class:"checkbox-field__label"},d={id:"checkbox-field",class:"checkbox-field__box"},n={key:0,src:i,alt:"Checked"},c={key:0,class:"form-field__error"},u=(0,a.aZ)({emits:["change","update:modelValue"],data(){return{checked:this.$props.modelValue}},computed:{hasError(){return Boolean(this.$props.error)}},watch:{modelValue:{handler(e){this.checked="string"===typeof e?JSON.parse(e):e},immediate:!0}},methods:{check(){this.checked=!this.checked,this.$emit("change",this.checked),this.$emit("update:modelValue",this.checked)}}});var m=(0,a.aZ)({...u,__name:"CheckboxField",props:{name:{},label:{},defaultChecked:{type:Boolean},direction:{default:"right"},variant:{default:"primary"},size:{default:"md"},modelValue:{type:Boolean},disabled:{},error:{},justify:{default:"space-between"}},setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("input",{type:"checkbox",class:"checkbox-field__input",checked:e.modelValue||e.checked,name:e.name,disabled:e.disabled},null,8,o),(0,a._)("div",{class:(0,s.C_)(["checkbox-field",{"checkbox-field--checked":e.checked,"checkbox-field--disabled":e.disabled,[`checkbox-field--${e.direction}`]:!0,[`checkbox-field--${e.variant}`]:!0,[`checkbox-field--${e.size}`]:!0}]),style:(0,s.j5)({justifyContent:"space-between"===e.justify?"space-between":"flex-start"}),onClick:t[0]||(t[0]=(...t)=>e.check&&e.check(...t))},[Boolean(e.label)?((0,a.wg)(),(0,a.iD)("label",l,(0,s.zw)(e.$t(e.label)),1)):(0,a.kq)("",!0),(0,a._)("div",d,[e.checked?((0,a.wg)(),(0,a.iD)("img",n)):(0,a.kq)("",!0)])],6),e.hasError?((0,a.wg)(),(0,a.iD)("div",c,(0,s.zw)(e.error),1)):(0,a.kq)("",!0)],64))}});const h=m;var v=h},2619:function(e,t,r){r.d(t,{Z:function(){return n}});var a=r(3396),s=r(7139);const i=["type","placeholder","name","required","value","disabled"],o=(0,a.aZ)({emits:["update:modelValue","blur"],methods:{input(e){const t=e.target?.value;this.$emit("update:modelValue",t)}}});var l=(0,a.aZ)({...o,__name:"InputField",props:{name:{},type:{},placeholder:{},required:{type:Boolean},size:{default:"lg"},variant:{default:"default"},modelValue:{},disabled:{}},setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("input",{type:e.type,placeholder:e.placeholder?e.$t(e.placeholder):"",name:e.name,required:e.required,class:(0,s.C_)([`form-field__input--${e.size} form-field__input--${e.variant}`,"form-field__input"]),value:e.modelValue,disabled:e.disabled,onInput:t[0]||(t[0]=t=>e.input(t)),onBlur:t[1]||(t[1]=t=>e.$emit("blur"))},null,42,i))}});const d=l;var n=d},6931:function(e,t,r){r.d(t,{Z:function(){return v}});var a=r(3396),s=r(7139),i=r(9242);function o(e,t,r,o,l,d){return(0,a.wg)(),(0,a.iD)("form",{class:(0,s.C_)(e.classNames),onSubmit:[t[0]||(t[0]=(0,i.iM)((()=>{}),["prevent"])),t[1]||(t[1]=(0,i.iM)((()=>{}),["stop"])),t[2]||(t[2]=(...t)=>e.onSubmit&&e.onSubmit(...t))]},[(0,a.WI)(e.$slots,"fields",{values:e.values,errors:e.errors,hasErrors:e.hasErrors,validateAt:e.validateAt,ref:"slot"})],34)}var l=r(8086),d=r.n(l);const n=async(e,t)=>{let r={};try{await t.validate(e,{abortEarly:!1}),r={}}catch(a){a.inner.forEach((e=>{const t=e.path,a=e.message;d()(r,t,a)}))}return r},c=async(e,t,r)=>{let a="";try{await r.validateAt(e,t)}catch(s){a=s.message}return a};var u=(0,a.aZ)({emits:["submit"],props:{classNames:{type:String,required:!1},initialValues:{type:Object,required:!0},schema:{required:!1}},data(){return{values:this.initialValues,errors:{}}},computed:{hasErrors(){return Boolean(Object.keys(this.errors).length>0)}},watch:{initialValues(e){this.values=e},errors(e){const t=Object.keys(e)[0],r=document.querySelector(`[name="${t}"]`);if(!r)return;const a=20,s=r.getBoundingClientRect().top-a;window.scrollTo({top:s}),r.focus()}},methods:{async onSubmit(){const e=await this.validate();e&&this.$emit("submit",this.values)},async validate(){return this.schema?(this.errors=await n(this.values,this.schema),Boolean(Object.keys(this.errors).length<=0)):(console.error("Validation schema doen't provided"),!0)},async validateAt(e){if(!this.schema)return console.error("Validation schema doen't provided"),!0;const t=await c(e,this.values,this.schema);d()(this.errors,e,t)}}}),m=r(89);const h=(0,m.Z)(u,[["render",o]]);var v=h},3075:function(e,t,r){r.r(t),r.d(t,{default:function(){return xe}});var a=r(3396),s=r(7139);const i={class:"driver-actions-container"},o={class:"drivers-list"};function l(e,t,r,l,d,n){const c=(0,a.up)("create-driver-button"),u=(0,a.up)("driver-filters"),m=(0,a.up)("driver-card"),h=(0,a.up)("app-layout");return(0,a.wg)(),(0,a.j4)(h,null,{appTitle:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.$t("Водії")),1)])),appExtra:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a.Wm)(c)])])),appContent:(0,a.w5)((()=>[(0,a.Wm)(u),(0,a._)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.driversForView,(e=>((0,a.wg)(),(0,a.j4)(m,{key:e.name,driver:e},null,8,["driver"])))),128))])])),_:1})}var d=r(8231),n=r(4610);const c={class:"driver-form-container"},u={class:"modal-actions"};function m(e,t,r,i,o,l){const d=(0,a.up)("v-button"),n=(0,a.up)("transport-select-field"),m=(0,a.up)("v-form"),h=(0,a.up)("v-modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d,{hasMaxWidth:!1,onClick:e.open},{text:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.$t("Змінити ТС")),1)])),_:1},8,["onClick"]),(0,a.Wm)(h,{ref:"modal","max-width":"50vw","min-width":"30vw","min-height":"50vh"},{title:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.$t("Змінити ТС")),1)])),content:(0,a.w5)((({close:t})=>[(0,a.Wm)(m,{"initial-values":{transport_number:""},onSubmit:r=>{e.submit(r,t)}},{fields:(0,a.w5)((({values:e})=>[(0,a._)("div",c,[(0,a.Wm)(n,{modelValue:e.transport_number,"onUpdate:modelValue":t=>e.transport_number=t},null,8,["modelValue","onUpdate:modelValue"])]),(0,a._)("div",u,[(0,a.Wm)(d,{"has-max-width":!1,variant:"success",type:"submit"},{text:(0,a.w5)((()=>[(0,a.Uk)("Змінити")])),_:1})])])),_:2},1032,["onSubmit"])])),_:1},512)],64)}var h=r(9566),v=r(6931),p=r(585),_=r(1781),f=r(4677),w=r(7941),b=(0,a.aZ)({components:{VModal:h.Z,VForm:v.Z,VButton:n.Z,TransportSelectField:p.PO},setup(){const e=(0,f.pm)();return{toast:e}},mounted(){this.$store.dispatch(w.K.GET_TRANSPORTS)},methods:{open(){const e=this.$refs.modal;e.open()},submit(e,t){this.$store.dispatch(_.c.CHANGE_TRANSPORT,{payload:e,toast:this.toast}),t()}}}),k=r(89);const g=(0,k.Z)(b,[["render",m],["__scopeId","data-v-5fa93232"]]);var y=g;const $={class:"driver-form-container"},x={class:"modal-actions"};function V(e,t,r,i,o,l){const d=(0,a.up)("v-button"),n=(0,a.up)("route-select-field"),c=(0,a.up)("v-form"),u=(0,a.up)("v-modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d,{hasMaxWidth:!1,onClick:e.open},{text:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.$t("Змінити маршрут")),1)])),_:1},8,["onClick"]),(0,a.Wm)(u,{ref:"modal","max-width":"50vw","min-width":"30vw","min-height":"50vh"},{title:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.$t("Змінити маршрут")),1)])),content:(0,a.w5)((({close:t})=>[(0,a.Wm)(c,{"initial-values":{route:""},onSubmit:r=>{e.submit(r,t)}},{fields:(0,a.w5)((({values:e})=>[(0,a._)("div",$,[(0,a.Wm)(n,{modelValue:e.route,"onUpdate:modelValue":t=>e.route=t},null,8,["modelValue","onUpdate:modelValue"])]),(0,a._)("div",x,[(0,a.Wm)(d,{"has-max-width":!1,variant:"success",type:"submit"},{text:(0,a.w5)((()=>[(0,a.Uk)("Змінити")])),_:1})])])),_:2},1032,["onSubmit"])])),_:1},512)],64)}var W=r(2028),Z=r(5837),C=(0,a.aZ)({components:{VModal:h.Z,VForm:v.Z,VButton:n.Z,RouteSelectField:W.pV},setup(){const e=(0,f.pm)();return{toast:e}},mounted(){this.$store.dispatch(Z.V.GET_ROUTES)},methods:{open(){const e=this.$refs.modal;e.open()},submit(e,t){this.$store.dispatch(_.c.CHANGE_ROUTE,{payload:e,toast:this.toast}),t()}}});const z=(0,k.Z)(C,[["render",V],["__scopeId","data-v-65cd4082"]]);var S=z;const U={class:"driver-card"},D={class:"driver-card__header"},E={class:"driver-card__username"},B={class:"driver-card__info"},F={class:"driver-card__item"},j={class:"driver-card__label"},q=["href"],R={class:"driver-card__item"},I={class:"driver-card__label"},T={class:"driver-card__item"},H={class:"driver-card__label"},N={class:"driver-card__item"},O={class:"driver-card__label"},A={class:"driver-card__item"},M={class:"driver-card__label"},G={class:"driver-card__item"},K={class:"driver-card__label"},P={key:0,class:"driver-card__item"},Y={class:"driver-card__label"},L={class:"driver-card__item"},J={class:"driver-card__label"},Q={class:"driver-card__actions"},X=(0,a.aZ)({components:{VButton:n.Z,ChangeDriverTransport:y,ChangeDriverRoute:S}});var ee=(0,a.aZ)({...X,__name:"DriverCard",props:{driver:{}},setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("div",U,[(0,a._)("div",D,[(0,a._)("h4",E,(0,s.zw)(e.driver.name),1)]),(0,a._)("div",B,[(0,a._)("div",F,[(0,a._)("h5",j,(0,s.zw)(e.$t("Телефон*:")),1),(0,a._)("a",{href:`tel:${e.driver.phone}`},(0,s.zw)(e.driver.phone),9,q)]),(0,a._)("div",R,[(0,a._)("h5",I,(0,s.zw)(e.$t("Табельний номер")),1),(0,a.Uk)(" "+(0,s.zw)(e.driver.tabulation_number),1)]),(0,a._)("div",T,[(0,a._)("h5",H,(0,s.zw)(e.$t("Маршрут")),1),(0,a.Uk)(" "+(0,s.zw)(e.driver.route),1)]),(0,a._)("div",N,[(0,a._)("h5",O,(0,s.zw)(e.$t("№ ТС")),1),(0,a.Uk)(" "+(0,s.zw)(e.driver.transport_number),1)]),(0,a._)("div",A,[(0,a._)("h5",M,(0,s.zw)(e.$t("Час відкриття зміни")),1),(0,a.Uk)(" "+(0,s.zw)(e.driver.session_open_time),1)]),(0,a._)("div",G,[(0,a._)("h5",K,(0,s.zw)(e.$t("Виторг")),1),(0,a.Uk)(" "+(0,s.zw)(e.driver.money),1)]),e.driver.add_data?((0,a.wg)(),(0,a.iD)("div",P,[(0,a._)("h5",Y,(0,s.zw)(e.$t("Додаткова інформація")),1),(0,a.Uk)(" "+(0,s.zw)(e.driver.add_data),1)])):(0,a.kq)("",!0),(0,a._)("div",L,[(0,a._)("h5",J,(0,s.zw)(e.$t("Швидкий зв'язок")),1),(0,a.Uk)(" "+(0,s.zw)(e.driver.call_message),1)])]),(0,a._)("div",Q,[(0,a.Wm)(n.Z,{hasMaxWidth:!1},{text:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.$t("Закрити зміну")),1)])),_:1}),(0,a.Wm)(y),(0,a.Wm)(S)])]))}});const te=ee;var re=te;function ae(e,t,r,i,o,l){const d=(0,a.up)("v-button"),n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(n,{to:{name:"createDriver"},class:"driver-create-btn"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{hasMaxWidth:!0},{text:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.$t("Додати водія")),1)])),_:1})])),_:1})}var se=r(5577),ie=(0,a.aZ)({components:{VButton:n.Z},setup(){return{Rules:se.i}}});const oe=(0,k.Z)(ie,[["render",ae],["__scopeId","data-v-60798896"]]);var le=oe;const de={class:"driver-filters"},ne={class:"filter-item"},ce={class:"filter-item"},ue={class:"filter-item"},me={class:"filter-item"},he={class:"filter-item filter-checkbox-item"};function ve(e,t,r,s,i,o){const l=(0,a.up)("input-field"),d=(0,a.up)("form-field"),n=(0,a.up)("routes-select-field"),c=(0,a.up)("checkbox-field");return(0,a.wg)(),(0,a.iD)("div",de,[(0,a._)("div",ne,[(0,a.Wm)(d,{label:"Пошук за ПІБ"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{placeholder:"Пошук за ПІБ"})])),_:1})]),(0,a._)("div",ce,[(0,a.Wm)(d,{label:"Пошук за Табельним номером"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{placeholder:"Пошук за Табельним номером"})])),_:1})]),(0,a._)("div",ue,[(0,a.Wm)(d,{label:"Пошук за ТС"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{placeholder:"Пошук за ТС"})])),_:1})]),(0,a._)("div",me,[(0,a.Wm)(n)]),(0,a._)("div",he,[(0,a.Wm)(c,{label:"Зараз на рейсах"})])])}var pe=r(4560),_e=r(2619),fe=r(2247),we=r(2729),be=(0,a.aZ)({components:{CheckboxField:we.Z,FormField:pe.Z,InputField:_e.Z,RoutesSelectField:fe.Z}});const ke=(0,k.Z)(be,[["render",ve],["__scopeId","data-v-a0737058"]]);var ge=ke,ye=(0,a.aZ)({components:{AppLayout:d.Z,DriverCard:re,CreateDriverButton:le,DriverFilters:ge},data(){return{query:""}},computed:{loading(){return this.$store.state.drivers.loading},driversForView(){return this.$store.state.drivers.driversForView},hasDrivers(){return this.$store.state.drivers.driversForView&&this.$store.state.drivers.driversForView.length>0}},mounted(){this.$store.dispatch(_.c.GET_DRIVERS)}});const $e=(0,k.Z)(ye,[["render",l]]);var xe=$e},9167:function(e,t,r){e.exports=r.p+"img/check-icon.972bc3c4.svg"}}]);
//# sourceMappingURL=7972.47303e2f.js.map
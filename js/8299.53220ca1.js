"use strict";(self["webpackChunkjust_sell"]=self["webpackChunkjust_sell"]||[]).push([[8299],{2354:function(e,t,a){a.d(t,{m:function(){return l}});const l=e=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value}},2729:function(e,t,a){a.d(t,{Z:function(){return p}});var l=a(3396),s=a(7139),n=a(9167);const i=["checked","name","disabled"],r={key:0,for:"#checkbox-field",class:"checkbox-field__label"},o={id:"checkbox-field",class:"checkbox-field__box"},d={key:0,src:n,alt:"Checked"},c={key:0,class:"form-field__error"},u=(0,l.aZ)({emits:["change","update:modelValue"],data(){return{checked:this.$props.modelValue}},computed:{hasError(){return Boolean(this.$props.error)}},watch:{modelValue:{handler(e){this.checked="string"===typeof e?JSON.parse(e):e},immediate:!0}},methods:{check(){this.checked=!this.checked,this.$emit("change",this.checked),this.$emit("update:modelValue",this.checked)}}});var m=(0,l.aZ)({...u,__name:"CheckboxField",props:{name:{},label:{},defaultChecked:{type:Boolean},direction:{default:"right"},variant:{default:"primary"},size:{default:"md"},modelValue:{type:Boolean},disabled:{},error:{},justify:{default:"space-between"}},setup(e){return(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("input",{type:"checkbox",class:"checkbox-field__input",checked:e.modelValue||e.checked,name:e.name,disabled:e.disabled},null,8,i),(0,l._)("div",{class:(0,s.C_)(["checkbox-field",{"checkbox-field--checked":e.checked,"checkbox-field--disabled":e.disabled,[`checkbox-field--${e.direction}`]:!0,[`checkbox-field--${e.variant}`]:!0,[`checkbox-field--${e.size}`]:!0}]),style:(0,s.j5)({justifyContent:"space-between"===e.justify?"space-between":"flex-start"}),onClick:t[0]||(t[0]=(...t)=>e.check&&e.check(...t))},[Boolean(e.label)?((0,l.wg)(),(0,l.iD)("label",r,(0,s.zw)(e.$t(e.label)),1)):(0,l.kq)("",!0),(0,l._)("div",o,[e.checked?((0,l.wg)(),(0,l.iD)("img",d)):(0,l.kq)("",!0)])],6),e.hasError?((0,l.wg)(),(0,l.iD)("div",c,(0,s.zw)(e.error),1)):(0,l.kq)("",!0)],64))}});const h=m;var p=h},2619:function(e,t,a){a.d(t,{Z:function(){return d}});var l=a(3396),s=a(7139);const n=["type","placeholder","name","required","value","disabled"],i=(0,l.aZ)({emits:["update:modelValue","blur"],methods:{input(e){const t=e.target?.value;this.$emit("update:modelValue",t)}}});var r=(0,l.aZ)({...i,__name:"InputField",props:{name:{},type:{},placeholder:{},required:{type:Boolean},size:{default:"lg"},variant:{default:"default"},modelValue:{},disabled:{}},setup(e){return(e,t)=>((0,l.wg)(),(0,l.iD)("input",{type:e.type,placeholder:e.placeholder?e.$t(e.placeholder):"",name:e.name,required:e.required,class:(0,s.C_)([`form-field__input--${e.size} form-field__input--${e.variant}`,"form-field__input"]),value:e.modelValue,disabled:e.disabled,onInput:t[0]||(t[0]=t=>e.input(t)),onBlur:t[1]||(t[1]=t=>e.$emit("blur"))},null,42,n))}});const o=r;var d=o},6686:function(e,t,a){a.d(t,{Z:function(){return d}});var l=a(3396),s=a(7139);const n=["placeholder","name","required","value","disabled","maxlength"],i=(0,l.aZ)({emits:["update:modelValue","update:selection"],inject:["rules"],data(){return{canEdit:!1}},mounted(){this.canEdit=Boolean(null!==this.rules),document.addEventListener("selectionchange",this.onSelectionChange)},methods:{input(e){const t=e.target?.value;this.$emit("update:modelValue",t)},onTabPressed(e){const t=this.$refs.textarea;let a=e.target.value;if("Tab"==e.key){e.preventDefault();const l=t.selectionStart,s=t.selectionEnd;e.target.value=a.substring(0,l)+"\t"+a.substring(s),t.selectionStart=t.selectionEnd=l+1,this.$emit("update:modelValue",a)}},onSelectionChange(){const e=document.activeElement,t=this.$refs.textarea;if(e&&e===t){const t={start:e.selectionStart,end:e.selectionEnd};this.$emit("update:selection",t)}}}});var r=(0,l.aZ)({...i,__name:"TextareaField",props:{name:{},placeholder:{},required:{type:Boolean},size:{default:"lg"},variant:{default:"default"},modelValue:{},disabled:{},maxLength:{}},setup(e){return(e,t)=>((0,l.wg)(),(0,l.iD)("textarea",{ref:"textarea",placeholder:e.placeholder?e.$t(e.placeholder):"",name:e.name,required:e.required,class:(0,s.C_)(["form-field__input form-field__textarea",`form-field__input--${e.size} form-field__input--${e.variant}`]),value:e.modelValue,disabled:void 0!==e.disabled?e.disabled:!e.canEdit,onInput:t[0]||(t[0]=t=>e.input(t)),onKeydown:t[1]||(t[1]=(...t)=>e.onTabPressed&&e.onTabPressed(...t)),maxlength:e.maxLength},null,42,n))}});const o=r;var d=o},6931:function(e,t,a){a.d(t,{Z:function(){return p}});var l=a(3396),s=a(7139),n=a(9242);function i(e,t,a,i,r,o){return(0,l.wg)(),(0,l.iD)("form",{class:(0,s.C_)(e.classNames),onSubmit:[t[0]||(t[0]=(0,n.iM)((()=>{}),["prevent"])),t[1]||(t[1]=(0,n.iM)((()=>{}),["stop"])),t[2]||(t[2]=(...t)=>e.onSubmit&&e.onSubmit(...t))]},[(0,l.WI)(e.$slots,"fields",{values:e.values,errors:e.errors,hasErrors:e.hasErrors,validateAt:e.validateAt,ref:"slot"})],34)}var r=a(8086),o=a.n(r);const d=async(e,t)=>{let a={};try{await t.validate(e,{abortEarly:!1}),a={}}catch(l){l.inner.forEach((e=>{const t=e.path,l=e.message;o()(a,t,l)}))}return a},c=async(e,t,a)=>{let l="";try{await a.validateAt(e,t)}catch(s){l=s.message}return l};var u=(0,l.aZ)({emits:["submit"],props:{classNames:{type:String,required:!1},initialValues:{type:Object,required:!0},schema:{required:!1}},data(){return{values:this.initialValues,errors:{}}},computed:{hasErrors(){return Boolean(Object.keys(this.errors).length>0)}},watch:{initialValues(e){this.values=e},errors(e){const t=Object.keys(e)[0],a=document.querySelector(`[name="${t}"]`);if(!a)return;const l=20,s=a.getBoundingClientRect().top-l;window.scrollTo({top:s}),a.focus()}},methods:{async onSubmit(){const e=await this.validate();e&&this.$emit("submit",this.values)},async validate(){return this.schema?(this.errors=await d(this.values,this.schema),Boolean(Object.keys(this.errors).length<=0)):(console.error("Validation schema doen't provided"),!0)},async validateAt(e){if(!this.schema)return console.error("Validation schema doen't provided"),!0;const t=await c(e,this.values,this.schema);o()(this.errors,e,t)}}}),m=a(89);const h=(0,m.Z)(u,[["render",i]]);var p=h},999:function(e,t,a){a.d(t,{Z:function(){return f}});var l=a(3396),s=a(7139);const n={class:"hint-more"},i={class:"hint-more__title"},r=["onClick"];function o(e,t,a,o,d,c){const u=(0,l.up)("textarea-field"),m=(0,l.up)("form-field");return(0,l.wg)(),(0,l.j4)(m,{label:e.label||"Шаблон тіла запиту",error:e.error},{hint:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l._)("div",i,(0,s.zw)(e.$t("Натисніть на потрібний елемент, щоб додати до шаблону")),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.hint,(({name:t,message:a})=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,s.C_)(["hint-more__item",{"hint-more__item--selected":e.payload.includes(t)}]),onClick:a=>e.addTemplateElement(t)},[(0,l._)("span",null,(0,s.zw)(t)+" "+(0,s.zw)(a),1)],10,r)))),128)),(0,l._)("div",{class:"hint-more-btn",onClick:t[0]||(t[0]=t=>e.hintOpened=!e.hintOpened)},(0,s.zw)(e.hintOpened?e.$t("Показати меньше"):e.$t("Показати більше")),1)])])),default:(0,l.w5)((()=>[(0,l.Wm)(u,{ref:"textarea","model-value":e.modelValue,"onUpdate:modelValue":e.input,"onUpdate:selection":e.changeSelection,name:"payload",placeholder:"Наприклад, \n  {\n    'status': ${status_code},\n    'error_msg':'${error_msg}',\n  }"},null,8,["model-value","onUpdate:modelValue","onUpdate:selection"])])),_:1},8,["label","error"])}var d=a(4560),c=a(6686),u=a(2354),m=(0,l.aZ)({props:{modelValue:String,label:String,error:String},emits:["update:modelValue"],data(){return{payload:"",hintOpened:!1,selectionStart:0,selectionEnd:0,hintMessages:[{name:"${transaction_id}",message:" - ідентифікатор платежу"},{name:"${pay_time}",message:" – час платежу"},{name:"${get_time}",message:" - час отримання"},{name:"${device_id}",message:" – ідентифікатор пристрою"},{name:"${pay_inst}",message:" - идентификатор платежа"},{name:"${pay_mask}",message:" – маска платежу"},{name:"${end_pay_time}",message:" - час закінчення платежу"},{name:"${transaction_type}",message:" – тип транзакції"},{name:"${amount}",message:" – кількість"},{name:"${ticket_num}",message:" – номер квитка"},{name:"${sign}",message:" – підпис"},{name:"${pan_mask}",message:"- маскований номер карти"},{name:"${code}",message:" - код результату транзакції"},{name:"${msg}",message:" - повідомлення коду помилки"},{name:"${rrn}",message:" - інтифікатор в системах МПС"},{name:"${is_test}",message:" - тип транзакції, тестова чи продова"}]}},mounted(){this.modelValue&&(this.payload=this.modelValue)},computed:{hint(){return this.hintOpened?this.hintMessages:this.hintMessages.slice(0,3)}},watch:{payload(e){const t=(0,u.m)(e);this.payload=(0,u.m)(e),this.$emit("update:modelValue",t)}},methods:{input(e){this.payload=e},addTemplateElement(e){this.payload.includes(e)?this.payload=this.payload.replace(e,""):(this.payload.substring(this.selectionEnd,this.payload.length),this.payload=this.payload.substring(0,this.selectionStart)+e+this.payload.substring(this.selectionEnd,this.payload.length)),this.$emit("update:modelValue",this.payload)},changeSelection(e){this.selectionStart=e.start,this.selectionEnd=e.end}},components:{FormField:d.Z,TextareaField:c.Z}}),h=a(89);const p=(0,h.Z)(m,[["render",o]]);var f=p},5375:function(e,t,a){a.d(t,{Z:function(){return c}});var l=a(3396);function s(e,t,a,s,n,i){const r=(0,l.up)("select-field"),o=(0,l.up)("form-field");return(0,l.wg)(),(0,l.j4)(o,{label:e.label||"Тип запиту",error:e.error},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{options:e.types,name:"callback_type","input-placeholder":"Оберіть тип запиту","search-placeholder":"Введіть тип запиту","model-value":e.modelValue,"onUpdate:modelValue":e.select,"has-search":!1},null,8,["options","model-value","onUpdate:modelValue"])])),_:1},8,["label","error"])}var n=a(4560),i=a(2946),r=(0,l.aZ)({props:{modelValue:String,label:String,error:String},emits:["update:modelValue"],components:{FormField:n.Z,SelectField:i.Z},data(){return{types:[{value:"POST",label:"POST"},{value:"GET",label:"GET"}]}},methods:{select(e){this.$emit("update:modelValue",e)}}}),o=a(89);const d=(0,o.Z)(r,[["render",s]]);var c=d},9167:function(e,t,a){e.exports=a.p+"img/check-icon.972bc3c4.svg"}}]);
//# sourceMappingURL=8299.53220ca1.js.map
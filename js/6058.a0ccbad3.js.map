{"version":3,"file":"js/6058.a0ccbad3.js","mappings":"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","sources":["webpack://just_sell/./src/components/fields/CheckboxField/CheckboxField.vue?c1d0","webpack://just_sell/./src/components/fields/CheckboxField/CheckboxField.vue","webpack://just_sell/./src/modules/routes/ui/VMap.vue?e96d","webpack://just_sell/./src/modules/routes/api/animate-marker.ts","webpack://just_sell/./src/modules/routes/api/google-maps.api.ts","webpack://just_sell/./src/utils/array.ts","webpack://just_sell/./src/modules/routes/ui/PlaceItem.vue","webpack://just_sell/./src/modules/routes/ui/PlaceItem.vue?2903","webpack://just_sell/./src/modules/routes/ui/VMap.vue?71c8","webpack://just_sell/./src/modules/routes/ui/VMap.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, Fragment as _Fragment } from \"vue\"\nimport _imports_0 from '@/assets/icons/check-icon.svg'\n\n\nconst _hoisted_1 = [\"checked\", \"name\", \"disabled\"]\nconst _hoisted_2 = {\n  key: 0,\n  for: \"#checkbox-field\",\n  class: \"checkbox-field__label\"\n}\nconst _hoisted_3 = {\n  id: \"checkbox-field\",\n  class: \"checkbox-field__box\"\n}\nconst _hoisted_4 = {\n  key: 0,\n  src: _imports_0,\n  alt: \"Checked\"\n}\nconst _hoisted_5 = {\n  key: 0,\n  class: \"form-field__error\"\n}\n\n\nimport { defineComponent } from \"vue\";\n\nconst __default__ = defineComponent({\n  emits: [\"change\", \"update:modelValue\"],\n  data() {\n    return {\n      checked: (this.$props as any).modelValue,\n    };\n  },\n\n  computed: {\n    hasError(): boolean {\n      return Boolean((this.$props as any).error);\n    },\n  },\n\n  watch: {\n    modelValue: {\n      handler(value: any) {\n        if (typeof value === \"string\") {\n          this.checked = JSON.parse(value);\n        } else {\n          this.checked = value;\n        }\n      },\n      immediate: true,\n    },\n  },\n\n  methods: {\n    check() {\n      this.checked = !this.checked;\n      this.$emit(\"change\", this.checked);\n      this.$emit(\"update:modelValue\", this.checked);\n    },\n  },\n});\n\ninterface CheckboxFieldProps {\n  name: string;\n  label?: string;\n  defaultChecked?: boolean;\n  direction?: \"right\" | \"left\";\n  variant?: \"primary\" | \"secondary\";\n  size?: \"md\" | \"sm\";\n  modelValue?: boolean;\n  disabled?: any;\n  error?: string;\n  justify?: \"space-between\" | \"none\";\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'CheckboxField',\n  props: {\n    name: {},\n    label: {},\n    defaultChecked: { type: Boolean },\n    direction: { default: \"right\" },\n    variant: { default: \"primary\" },\n    size: { default: \"md\" },\n    modelValue: { type: Boolean },\n    disabled: {},\n    error: {},\n    justify: { default: \"space-between\" }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"input\", {\n      type: \"checkbox\",\n      class: \"checkbox-field__input\",\n      checked: _ctx.modelValue || _ctx.checked,\n      name: _ctx.name,\n      disabled: _ctx.disabled\n    }, null, 8, _hoisted_1),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"checkbox-field\", {\n      'checkbox-field--checked': _ctx.checked,\n      'checkbox-field--disabled': _ctx.disabled,\n      [`checkbox-field--${_ctx.direction}`]: true,\n      [`checkbox-field--${_ctx.variant}`]: true,\n      [`checkbox-field--${_ctx.size}`]: true,\n    }]),\n      style: _normalizeStyle({\n      justifyContent:\n        _ctx.justify === 'space-between' ? 'space-between' : 'flex-start',\n    }),\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.check && _ctx.check(...args)))\n    }, [\n      (Boolean(_ctx.label))\n        ? (_openBlock(), _createElementBlock(\"label\", _hoisted_2, _toDisplayString(_ctx.$t(_ctx.label)), 1))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_ctx.checked)\n          ? (_openBlock(), _createElementBlock(\"img\", _hoisted_4))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 6),\n    (_ctx.hasError)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.error), 1))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}\n}\n\n})","import script from \"./CheckboxField.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CheckboxField.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-199751a2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"map-container\" }\nconst _hoisted_2 = {\n  id: \"map\",\n  ref: \"map\"\n}\nconst _hoisted_3 = { class: \"places-container\" }\nconst _hoisted_4 = {\n  key: 0,\n  type: \"text\",\n  ref: \"placesAutocomplete\",\n  class: \"form-field__input--default\"\n}\nconst _hoisted_5 = { class: \"places-list\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"marker-checkbox-container\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_checkbox_field = _resolveComponent(\"checkbox-field\")!\n  const _component_place_item = _resolveComponent(\"place-item\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, null, 512),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (_ctx.hasAddressAutocomplete)\n        ? (_openBlock(), _createElementBlock(\"input\", _hoisted_4, null, 512))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_5, [\n        (_ctx.hasAnimatedMarker)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n              _createVNode(_component_checkbox_field, {\n                label: \"Відображати переміщення ТЗ\",\n                name: \"iconVisible\",\n                modelValue: _ctx.showBusIcon,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.showBusIcon) = $event))\n              }, null, 8, [\"modelValue\"])\n            ]))\n          : _createCommentVNode(\"\", true),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.places, (place, index) => {\n          return (_openBlock(), _createBlock(_component_place_item, {\n            key: place.name,\n            name: place.name,\n            index: index,\n            moveUpDisabled: index === 0,\n            moveDownDisabled: index === _ctx.places.length - 1,\n            hasActions: _ctx.hasPlaceActions,\n            onMoveUp: _ctx.moveUp,\n            onMoveDown: _ctx.moveDown,\n            onRemove: _ctx.removeItem\n          }, null, 8, [\"name\", \"index\", \"moveUpDisabled\", \"moveDownDisabled\", \"hasActions\", \"onMoveUp\", \"onMoveDown\", \"onRemove\"]))\n        }), 128))\n      ])\n    ])\n  ]))\n}","//@ts-nocheck\nlet timeouts = [];\nexport const animateTo = async (\n  marker,\n  moveFrom,\n  moveTo,\n  t = 0.25,\n  delta = 100\n) => {\n  return new Promise((resolve) => {\n    const deltalat = (moveTo.lat() - moveFrom.lat()) / delta;\n    const deltalng = (moveTo.lng() - moveFrom.lng()) / delta;\n    const delay = 10 * t;\n    let count = 0;\n\n    for (let i = 0; i < delta; i++) {\n      (function (ind) {\n        const timeoutId = setTimeout(function () {\n          timeouts.push(timeoutId);\n\n          const lat = marker.position.lat() + deltalat;\n          const lng = marker.position.lng() + deltalng;\n\n          marker.setPosition(new window.google.maps.LatLng(lat, lng));\n\n          count++;\n          if (count === delta) {\n            clearTimeouts();\n            resolve({ marker, timeouts });\n          }\n        }, delay * ind);\n      })(i);\n    }\n  });\n};\n\nexport const clearTimeouts = async (): Promise<boolean> => {\n  console.log(\"start\", timeouts);\n\n  return new Promise((resolve) => {\n    timeouts.forEach((timeout) => {\n      clearTimeout(timeout);\n    });\n\n    timeouts = [];\n    console.log(\"end\", timeouts);\n    resolve(true);\n  });\n};\n","import { animateTo, clearTimeouts } from \"./animate-marker\";\n\nlet directionsService: google.maps.DirectionsService;\nlet directionsRenderer: google.maps.DirectionsRenderer;\nlet marker: google.maps.Marker;\nlet map: google.maps.Map;\n\nconst createMarker = async (map: google.maps.Map) => {\n  const { Marker } = (await google.maps.importLibrary(\n    \"marker\"\n  )) as google.maps.MarkerLibrary;\n\n  marker = new Marker({\n    icon: require(\"@/assets/icons/bus-icon.png\"),\n    optimized: false,\n    zIndex: 99,\n    map,\n  });\n};\n\nexport const initMap = async (\n  mapRef: HTMLDivElement,\n  inputRef: HTMLInputElement,\n  { onPlaceChanged, places }: any\n) => {\n  const { Map: GoogleMap } = (await google.maps.importLibrary(\n    \"maps\"\n  )) as google.maps.MapsLibrary;\n\n  directionsService = new google.maps.DirectionsService();\n  directionsRenderer = new google.maps.DirectionsRenderer();\n\n  const center = await getDefaultCenter();\n\n  map = new GoogleMap(mapRef, {\n    center,\n    zoom: 5,\n  });\n\n  initPlacesAutocomplete(inputRef, center, { onPlaceChanged });\n\n  directionsRenderer.setMap(map);\n  createMarker(map);\n\n  return map;\n};\n\nexport const getDefaultCenter = async () => {\n  const { Geocoder } = (await google.maps.importLibrary(\n    \"geocoding\"\n  )) as google.maps.GeocodingLibrary;\n\n  const geocoder = new Geocoder();\n\n  const { results } = await geocoder.geocode({ address: \"Ukraine\" });\n\n  if (!results.length) {\n    return { lat: -34.397, lng: 150.644 };\n  }\n\n  const result = results[0];\n  return result.geometry.location;\n};\n\nexport const initPlacesAutocomplete = async (\n  ref: HTMLInputElement,\n  center: any,\n  { onPlaceChanged }: any\n) => {\n  const { Autocomplete } = (await google.maps.importLibrary(\n    \"places\"\n  )) as google.maps.PlacesLibrary;\n\n  const defaultBounds = {\n    north: center.lat + 0.1,\n    south: center.lat - 0.1,\n    east: center.lng + 0.1,\n    west: center.lng - 0.1,\n  };\n\n  const options = {\n    bounds: defaultBounds,\n    strictBounds: true,\n  };\n\n  const autocomplete = new Autocomplete(ref, options);\n\n  autocomplete.setFields([\"place_id\", \"geometry\", \"name\"]);\n  autocomplete.addListener(\"place_changed\", () => {\n    const place = autocomplete.getPlace();\n    onPlaceChanged(place);\n  });\n};\n\nexport const renderRoute = ({ places = [], animatedMarker }: any) => {\n  if (!directionsService || !directionsRenderer) {\n    return;\n  }\n\n  if (!places?.length) {\n    return;\n  }\n\n  const start = places[0];\n  const end = places[places.length - 1];\n  const waypoints =\n    places.length > 2\n      ? places.slice(1, places.length - 1).map((place: any) => ({\n          location: place.geometry.location,\n          stopover: true,\n        }))\n      : [];\n\n  const request = {\n    origin: start.geometry.location,\n    destination: end.geometry.location,\n    waypoints,\n    travelMode: \"DRIVING\",\n  } as google.maps.DirectionsRequest;\n\n  directionsService.route(request, function (result, status) {\n    if (status == \"OK\") {\n      const steps = result?.routes[0].overview_path;\n\n      directionsRenderer.setDirections(result);\n\n      if (animatedMarker) {\n        animateMarker(steps);\n      }\n    }\n  });\n};\n\nexport const toggleMarkerVisibily = (visible: boolean) => {\n  if (visible) {\n    marker.setMap(map);\n  } else {\n    marker.setMap(null);\n  }\n};\n\nexport const animateMarker = async (legs?: any[]) => {\n  if (!legs) {\n    return;\n  }\n\n  marker.setPosition(legs[0]);\n\n  const cleared = await clearTimeouts();\n\n  if (cleared) {\n    for (const leg of legs) {\n      await animateTo(marker, marker.getPosition(), leg);\n    }\n  }\n};\n","export const moveElement = (array: any[], from: number, to: number) => {\n  const fromElement = array[from];\n  const toElement = array[to];\n\n  console.log(fromElement);\n  console.log(toElement);\n\n  array[from] = toElement;\n  array[to] = fromElement;\n\n  return array;\n};\n","<template>\n  <div class=\"place-item\">\n    <span class=\"place-item__text\">{{ name }}</span>\n    <div class=\"place-item__actions\" v-if=\"hasActions\">\n      <div\n        class=\"place-item__action\"\n        :class=\"moveUpDisabled ? 'place-item__disabled' : ''\"\n        @click=\"$emit('move-up', index)\"\n      >\n        <img src=\"@/assets/icons/arrow-long-up.svg\" alt=\"\" />\n      </div>\n      <div\n        class=\"place-item__action\"\n        :class=\"moveDownDisabled ? 'place-item__disabled' : ''\"\n        @click=\"$emit('move-down', index)\"\n      >\n        <img src=\"@/assets/icons/arrow-long-down.svg\" alt=\"\" />\n      </div>\n      <div class=\"place-item__action\" @click=\"$emit('remove', index)\">\n        <img src=\"@/assets/icons/trash.svg\" alt=\"\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  emits: [\"move-up\", \"move-down\", \"remove\"],\n  props: [\"name\", \"index\", \"moveUpDisabled\", \"moveDownDisabled\", \"hasActions\"],\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.place-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  padding: 12px;\n  background-color: #fff;\n  border-radius: 8px;\n\n  &__disabled {\n    pointer-events: none;\n    opacity: 0.5;\n  }\n\n  &__text {\n    font-size: 16px;\n  }\n\n  &__actions {\n    display: flex;\n    align-items: center;\n    column-gap: 4px;\n  }\n\n  &__action {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    padding: 8px;\n    border-radius: 4px;\n    border: 1px solid $accent-primary;\n\n    cursor: pointer;\n\n    img {\n      width: 24px;\n    }\n  }\n}\n</style>\n","import { render } from \"./PlaceItem.vue?vue&type=template&id=3f3fffaa&scoped=true\"\nimport script from \"./PlaceItem.vue?vue&type=script&lang=js\"\nexport * from \"./PlaceItem.vue?vue&type=script&lang=js\"\n\nimport \"./PlaceItem.vue?vue&type=style&index=0&id=3f3fffaa&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/dev_fakel/projects/personal/just_sell/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3f3fffaa\"]])\n\nexport default __exports__","\nimport { defineComponent } from \"vue\";\nimport {\n  initMap,\n  renderRoute,\n  toggleMarkerVisibily,\n} from \"../api/google-maps.api\";\nimport { moveElement } from \"@/utils/array\";\nimport CheckboxField from \"@/components/fields/CheckboxField/CheckboxField.vue\";\nimport PlaceItem from \"./PlaceItem.vue\";\n\nexport default defineComponent({\n  emits: [\"update:modelValue\"],\n  props: [\n    \"modelValue\",\n    \"hasAddressAutocomplete\",\n    \"hasPlaceActions\",\n    \"hasAnimatedMarker\",\n  ],\n  components: {\n    PlaceItem,\n    CheckboxField,\n  },\n  data(): { showBusIcon: boolean; places: any[] } {\n    return {\n      places: [],\n      showBusIcon: true,\n    };\n  },\n  async mounted() {\n    const map = this.$refs.map as HTMLDivElement;\n    const input = this.$refs.placesAutocomplete as HTMLInputElement;\n\n    await initMap(map, input, {\n      onPlaceChanged: this.onAddressSelected,\n    });\n    setTimeout(() => {\n      renderRoute({\n        places: this.places,\n        animatedMarker: this.hasAnimatedMarker,\n      });\n    }, 500);\n  },\n\n  watch: {\n    modelValue: {\n      handler(value) {\n        this.places = value || [];\n      },\n      immediate: true,\n    },\n    showBusIcon: {\n      handler(value) {\n        toggleMarkerVisibily(value);\n      },\n    },\n    places: {\n      handler(value) {\n        renderRoute({ places: value, animatedMarker: this.hasAnimatedMarker });\n      },\n      // immediate: true,\n      deep: true,\n    },\n  },\n\n  methods: {\n    onAddressSelected(place: any) {\n      this.places = [...this.places, place];\n      this.$emit(\"update:modelValue\", this.places);\n    },\n    moveUp(currentIndex: number) {\n      this.places = moveElement(this.places, currentIndex, currentIndex - 1);\n    },\n    moveDown(currentIndex: number) {\n      this.places = moveElement(this.places, currentIndex, currentIndex + 1);\n    },\n    removeItem(currentIndex: number) {\n      this.places = this.places.filter((_, index) => index !== currentIndex);\n    },\n  },\n});\n","import { render } from \"./VMap.vue?vue&type=template&id=199751a2&scoped=true&ts=true\"\nimport script from \"./VMap.vue?vue&type=script&lang=ts\"\nexport * from \"./VMap.vue?vue&type=script&lang=ts\"\n\nimport \"./VMap.vue?vue&type=style&index=0&id=199751a2&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/dev_fakel/projects/personal/just_sell/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-199751a2\"]])\n\nexport default __exports__"],"names":["_hoisted_1","_hoisted_2","key","for","class","_hoisted_3","id","_hoisted_4","src","_imports_0","alt","_hoisted_5","__default__","defineComponent","emits","data","checked","this","$props","modelValue","computed","hasError","Boolean","error","watch","handler","value","JSON","parse","immediate","methods","check","$emit","_defineComponent","__name","props","name","label","defaultChecked","type","direction","default","variant","size","disabled","justify","setup","__props","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_normalizeClass","style","_normalizeStyle","justifyContent","onClick","args","_toDisplayString","$t","_createCommentVNode","__exports__","ref","_hoisted_6","render","$setup","$data","$options","_component_checkbox_field","_resolveComponent","_component_place_item","hasAddressAutocomplete","hasAnimatedMarker","_createVNode","showBusIcon","$event","_renderList","places","place","index","_createBlock","moveUpDisabled","moveDownDisabled","length","hasActions","hasPlaceActions","onMoveUp","moveUp","onMoveDown","moveDown","onRemove","removeItem","timeouts","animateTo","async","marker","moveFrom","moveTo","t","delta","Promise","resolve","deltalat","lat","deltalng","lng","delay","count","i","ind","timeoutId","setTimeout","push","position","setPosition","window","google","maps","LatLng","clearTimeouts","console","log","forEach","timeout","clearTimeout","directionsService","directionsRenderer","map","createMarker","Marker","importLibrary","icon","require","optimized","zIndex","initMap","mapRef","inputRef","onPlaceChanged","Map","GoogleMap","DirectionsService","DirectionsRenderer","center","getDefaultCenter","zoom","initPlacesAutocomplete","setMap","Geocoder","geocoder","results","geocode","address","result","geometry","location","Autocomplete","defaultBounds","north","south","east","west","options","bounds","strictBounds","autocomplete","setFields","addListener","getPlace","renderRoute","animatedMarker","start","end","waypoints","slice","stopover","request","origin","destination","travelMode","route","status","steps","routes","overview_path","setDirections","animateMarker","toggleMarkerVisibily","visible","legs","cleared","leg","getPosition","moveElement","array","from","to","fromElement","toElement","_imports_1","_imports_2","_hoisted_8","components","PlaceItem","CheckboxField","$refs","input","placesAutocomplete","onAddressSelected","deep","currentIndex","filter","_"],"sourceRoot":""}
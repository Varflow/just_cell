(self["webpackChunkjust_sell"]=self["webpackChunkjust_sell"]||[]).push([[5274],{7230:function(t,e,n){"use strict";n.d(e,{MF:function(){return r},yU:function(){return u},dJ:function(){return c}});var r,s=n(5939);(function(t){t["LOGIN"]="/UserAuth/index.php",t["LOGOUT"]="/Exit/index.php",t["RESET_PASSWORD"]="/PassChange/index.php",t["GET_AUTH_STATUS"]="/AuthCheck/index.php",t["ACTIVATE_TERMINAL"]="/Terminals/Activate/index.php",t["TERMINALS_LIST"]="Terminals/List/index.php",t["TERMINALS_REFS"]="Terminals/Ref/index.php",t["GET_TERMINAL_CONFIG"]="Terminals/Config/Get/index.php",t["CREATE_OFFLINE_TERMINAL"]="Terminals/Config/Set/index.php",t["TRANSACTIONS_LIST"]="Payments/Transactions/index.php",t["PAYMENTS_REFUND"]="Payments/Refund/index.php",t["EDIT_TERMINAL"]="Terminals/Edit/index.php",t["SCAN_QR"]="Terminals/Scan/index.php",t["SEND_TERMINAL_COMMAMD"]="Terminals/AddCmd/index.php",t["ECOMM_TERMINAL_REF"]="Terminals/Ecomm/Ref/index.php",t["UPLOAD_FISCAL_KEY"]="Points/KeyData/index.php",t["ADD_POINT"]="Points/Add/index.php",t["GET_POINTS"]="Points/List/index.php",t["CREATE_ECOMM_TERMINAL"]="/Terminals/Ecomm/Add/index.php",t["GET_ECOMM_TERMINALS"]="/Terminals/Ecomm/List/index.php",t["GET_ECOMM_TERMINAL"]="/Terminals/Ecomm/Get/index.php",t["EDIT_ECOMM_TERMINAL"]="/Terminals/Ecomm/Edit/index.php"})(r||(r={}));var a=n(4677),o=n(6581);const i=(0,a.pm)(),c=s.Z.create({baseURL:"https://justsell-back.maketest.it/",headers:{"Content-Type":"application/json"},withCredentials:!0});c.interceptors.request.use((t=>{const e=window.localStorage.getItem("locale");return e&&(t.params={...t.params,lng:e.toUpperCase()}),t}),(t=>Promise.reject(t))),c.interceptors.response.use((function(t){const{code:e,msg:n}=t.data,s=t.config.url===r.LOGOUT,a="/"===o.Z.currentRoute.value.path;return void 0!==e||s||i.error("Помилка відповіді сервера"),-3!==e||a||i.error(n),0!==e&&-3!==e&&n&&i.error(n),t}),(function(t){return Promise.reject(t)}));n(7658);const u=t=>{if(!t)return"";const e=new URLSearchParams,n=p(t);for(const[r,s]of Object.entries(n))if(![null,void 0].includes(s))if(Array.isArray(s))for(const t of s)e.append(`${r}[]`,t);else e.append(r,s);return e.toString()},p=t=>Object.keys(t).reduce(((e,n)=>{const r=t[n];return r&&(e[n]=r),e}),{})},9378:function(t,e,n){"use strict";n.d(e,{D:function(){return i},c:function(){return o}});var r=n(7547),s=n(473),a=n(7230);const o=async(t={system:1})=>{const e=(0,a.yU)(t),{data:n}=await r.d.get(`${s.M.GET_ECOMM_TRANSACTIONS}?${e}`);return 0!==n.code?{list:[],totalCount:0,page:0,perPage:0}:n.data},i=async(t={system:1})=>{const e=(0,a.yU)(t),{data:n}=await r.d.get(`${s.M.GET_REF_ECOMM_TRANSACTIONS}?${e}`);return 0!==n.code?{filters:[],optionLists:{},fields:[]}:n.data}},1729:function(t,e,n){"use strict";n.d(e,{nt:function(){return i},Lq:function(){return u},uY:function(){return c},FQ:function(){return l},tj:function(){return p},mC:function(){return y}});var r=n(7230),s=n(3093),a=n(8818);const o={callback_type:"Тип зворотного виклику",callback_url:"Endpoint для повідомлень про результати транзакцій",callback_get_param:"Параметри запиту зворотного виклику",callback_req_tmpl:"Шаблон запиту зворотного виклику",redirect_url:"Redirect URL",comis_type:"Тип комісії",request_type:"Тип запиту",end_client_type:"Тип завершения оплаты",timeout:"Час очікування на введення картки клієнтом",gateways:"Банки",balancer_type:"Тип балансування",seq_gateway_requests:"Чи важливий порядок банків?",secret_key:"Secret Key (підпис HmacSHA256)"},i=async t=>{const e=await(0,a.d7)(t,(0,s.LP)()),{data:n}=await r.dJ.post(r.MF.CREATE_ECOMM_TERMINAL,t,{headers:{"X-Payload-Signature":e}});return n},c=async t=>{const{data:e}=await r.dJ.get(r.MF.GET_ECOMM_TERMINAL,{params:{id:t}});return 0!==e.code?null:e.data},u=async(t,e)=>{const n=await(0,a.d7)(e,(0,s.LP)()),{data:o}=await r.dJ.post(r.MF.EDIT_ECOMM_TERMINAL,{...e,id:t},{headers:{"X-Payload-Signature":n}});return o},p=async t=>{const e=(0,r.yU)(t),{data:n}=await r.dJ.get(r.MF.GET_ECOMM_TERMINALS+"?"+e);return 0!==n.code?{list:[],totalCount:0,page:0,perPage:0}:n.data},l=async()=>{const{data:t}=await r.dJ.get(r.MF.ECOMM_TERMINAL_REF);return t.data},y=(t,e)=>t?.length?t.map((t=>({...t,subRows:Object.keys(t.systems).map((n=>{const r=t.systems[n],s=Object.entries(o),a={};a["Система"]=n;for(const[t,o]of s)if("comis_type"!==t)if("request_type"!==t)if("gateways"!==t)if("balancer_type"!==t)if("seq_gateway_requests"!==t)if("secret_key"!==t)a[o]=r[t];else{const e=r[t];a[o]=`secretCopy#${e}`}else a[o]=r[t]?"Так":"Ні";else a[o]=e.balancer_type?.find((e=>e.id==r[t]))?.name||"Не вказано";else a[o]=e.banks_list?.filter((e=>r[t]?.some((t=>t==e.id)))).map((t=>t.name)).join(", ");else a[o]=e.request_type?.find((e=>e.id==r[t]))?.name;else a[o]=e.comis_type?.find((e=>e.id==r[t]))?.name;return a}))}))):[]},3904:function(t,e,n){"use strict";n.d(e,{cQ:function(){return u},fH:function(){return c},Co:function(){return l},f5:function(){return p}});var r=n(6459),s=n.n(r),a=n(8086),o=n.n(a);const i=(t,e)=>{const n={...t};for(const r in e){const a=e[r],i=s()(t,r);a&&i&&o()(n,r,a(i))}return n},c=t=>{const e={...t,systems:Object.keys(t.systems).reduce(((e,n)=>{const r=t.systems[n];return Object.keys(r).length>0&&(e[n]=r),e}),{})};return i(e,{"systems.Ecomm.comis_rules":t=>JSON.stringify(t),"systems.A2C.comis_rules":t=>JSON.stringify(t),"systems.C2A.comis_rules":t=>JSON.stringify(t),"systems.Ecomm.balancer_rules":t=>JSON.stringify(t),"systems.A2C.balancer_rules":t=>JSON.stringify(t),"systems.C2A.balancer_rules":t=>JSON.stringify(t),"systems.Ecomm.gateways":t=>t?.map((t=>parseInt(t))),"systems.A2C.gateways":t=>t?.map((t=>parseInt(t))),"systems.C2A.gateways":t=>t?.map((t=>parseInt(t))),"systems.Ecomm.balancer_type":t=>parseInt(t),"systems.A2C.balancer_type":t=>parseInt(t),"systems.C2A.balancer_type":t=>parseInt(t),"systems.Ecomm.comis_type":t=>parseInt(t),"systems.A2C.comis_type":t=>parseInt(t),"systems.C2A.comis_type":t=>parseInt(t)})},u=t=>{const e={...t,systems:Object.keys(t.systems).reduce(((e,n)=>{const r=t.systems[n];return Object.keys(r).length>0&&(e[n]=r),e}),{})};return i(e,{"systems.Ecomm.comis_rules":t=>{try{return JSON.parse(t)}catch(e){return{}}},"systems.C2A.comis_rules":t=>{try{return JSON.parse(t)}catch(e){return{}}},"systems.A2C.comis_rules":t=>{try{return JSON.parse(t)}catch(e){return{}}},"systems.Ecomm.balancer_rules":t=>{try{return JSON.parse(t)}catch(e){return{}}},"systems.A2C.balancer_rules":t=>{try{return JSON.parse(t)}catch(e){return{}}},"systems.C2A.balancer_rules":t=>{try{return JSON.parse(t)}catch(e){return{}}}})},p=(t,e)=>t.map((t=>e.reduce(((e,n,r)=>{if("coloredText"===n.type){const s=t[r];return s&&(e[n.name]=s[0]||"",e["status_color"]=s[1]),e}if(n.additional){const s=e["subRows"]?e["subRows"][0]:{};return e["subRows"]=[{...s,[n.name]:t[r]}],e}return e[n.name]=t[r]||"",e}),{}))),l=t=>t?Object.keys(t).reduce(((e,n)=>{const r=t[n];return["system","gateway"].includes(n)&&!Array.isArray(r)?(e[n]=[r],e):(e[n]=r,e)}),{}):{page:"0",perPage:"10"}},638:function(t,e,n){"use strict";n.d(e,{c:function(){return i}});var r=n(2578),s=n(4870),a=n(1729),o=n(9378);const i=(0,r.Q_)("ecomm-refs",(()=>{const t=(0,s.iH)(null),e=(0,s.iH)(null),n=(0,s.iH)(!1);async function r(){try{n.value=!0,t.value=await(0,a.FQ)()}catch(e){console.error(e)}finally{n.value=!1}}async function i(t="1"){try{n.value=!0,e.value=await(0,o.D)({system:t})}catch(r){console.error(r)}finally{n.value=!1}}return{refs:t,transactionsRefs:e,isFetching:n,getEcommTerminalRefs:r,getEcommTransactionsRefs:i}}))},6459:function(t,e,n){n(7658);var r="Expected a function",s="__lodash_hash_undefined__",a=1/0,o="[object Function]",i="[object GeneratorFunction]",c="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,l=/^\./,y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_=/[\\^$.*+?()[\]{}|]/g,f=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,m="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,E=m||h||Function("return this")();function g(t,e){return null==t?void 0:t[e]}function T(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}var A=Array.prototype,v=Function.prototype,b=Object.prototype,O=E["__core-js_shared__"],C=function(){var t=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),M=v.toString,S=b.hasOwnProperty,R=b.toString,N=RegExp("^"+M.call(S).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=E.Symbol,I=A.splice,L=ot(E,"Map"),j=ot(Object,"create"),x=w?w.prototype:void 0,P=x?x.toString:void 0;function k(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function F(){this.__data__=j?j(null):{}}function J(t){return this.has(t)&&delete this.__data__[t]}function G(t){var e=this.__data__;if(j){var n=e[t];return n===s?void 0:n}return S.call(e,t)?e[t]:void 0}function U(t){var e=this.__data__;return j?void 0!==e[t]:S.call(e,t)}function $(t,e){var n=this.__data__;return n[t]=j&&void 0===e?s:e,this}function D(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function q(){this.__data__=[]}function H(t){var e=this.__data__,n=tt(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():I.call(e,n,1),!0}function Q(t){var e=this.__data__,n=tt(e,t);return n<0?void 0:e[n][1]}function K(t){return tt(this.__data__,t)>-1}function Y(t,e){var n=this.__data__,r=tt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function X(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Z(){this.__data__={hash:new k,map:new(L||D),string:new k}}function V(t){return at(this,t)["delete"](t)}function W(t){return at(this,t).get(t)}function z(t){return at(this,t).has(t)}function B(t,e){return at(this,t).set(t,e),this}function tt(t,e){var n=t.length;while(n--)if(ft(t[n][0],e))return n;return-1}function et(t,e){e=it(e,t)?[e]:st(e);var n=0,r=e.length;while(null!=t&&n<r)t=t[lt(e[n++])];return n&&n==r?t:void 0}function nt(t){if(!ht(t)||ut(t))return!1;var e=mt(t)||T(t)?N:d;return e.test(yt(t))}function rt(t){if("string"==typeof t)return t;if(gt(t))return P?P.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}function st(t){return dt(t)?t:pt(t)}function at(t,e){var n=t.__data__;return ct(e)?n["string"==typeof e?"string":"hash"]:n.map}function ot(t,e){var n=g(t,e);return nt(n)?n:void 0}function it(t,e){if(dt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!gt(t))||(p.test(t)||!u.test(t)||null!=e&&t in Object(e))}function ct(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ut(t){return!!C&&C in t}k.prototype.clear=F,k.prototype["delete"]=J,k.prototype.get=G,k.prototype.has=U,k.prototype.set=$,D.prototype.clear=q,D.prototype["delete"]=H,D.prototype.get=Q,D.prototype.has=K,D.prototype.set=Y,X.prototype.clear=Z,X.prototype["delete"]=V,X.prototype.get=W,X.prototype.has=z,X.prototype.set=B;var pt=_t((function(t){t=Tt(t);var e=[];return l.test(t)&&e.push(""),t.replace(y,(function(t,n,r,s){e.push(r?s.replace(f,"$1"):n||t)})),e}));function lt(t){if("string"==typeof t||gt(t))return t;var e=t+"";return"0"==e&&1/t==-a?"-0":e}function yt(t){if(null!=t){try{return M.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function _t(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var o=t.apply(this,r);return n.cache=a.set(s,o),o};return n.cache=new(_t.Cache||X),n}function ft(t,e){return t===e||t!==t&&e!==e}_t.Cache=X;var dt=Array.isArray;function mt(t){var e=ht(t)?R.call(t):"";return e==o||e==i}function ht(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Et(t){return!!t&&"object"==typeof t}function gt(t){return"symbol"==typeof t||Et(t)&&R.call(t)==c}function Tt(t){return null==t?"":rt(t)}function At(t,e,n){var r=null==t?void 0:et(t,e);return void 0===r?n:r}t.exports=At}}]);
//# sourceMappingURL=5274.608dc6fc.js.map